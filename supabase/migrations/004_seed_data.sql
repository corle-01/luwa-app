-- ============================================================
-- UTTER APP - Database Migration 004: Seed Data
-- ============================================================
-- Run this AFTER 003_views_functions_rls.sql
-- Sample data for development & testing
-- ============================================================

-- IMPORTANT: Outlet seed data
-- AI trust settings will be auto-created by trigger
INSERT INTO outlets (id, name, address, phone, email, tax_rate, service_charge_rate, settings) VALUES
(
  'a0000000-0000-0000-0000-000000000001',
  'Utter Coffee - Malang',
  'Jl. Veteran No. 1, Malang, Jawa Timur',
  '081234567890',
  'malang@uttercoffee.com',
  11.00,
  5.00,
  '{"opening_hours": "08:00", "closing_hours": "22:00", "wifi_password": "uttercoffee"}'
);

-- Sample categories
INSERT INTO categories (outlet_id, name, color, sort_order) VALUES
('a0000000-0000-0000-0000-000000000001', 'Kopi', '#6F4E37', 1),
('a0000000-0000-0000-0000-000000000001', 'Non-Kopi', '#4CAF50', 2),
('a0000000-0000-0000-0000-000000000001', 'Teh', '#FF9800', 3),
('a0000000-0000-0000-0000-000000000001', 'Makanan', '#E91E63', 4),
('a0000000-0000-0000-0000-000000000001', 'Snack', '#9C27B0', 5);

-- Sample suppliers
INSERT INTO suppliers (id, outlet_id, name, contact_person, phone, email) VALUES
('b0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000001', 'PT Kopi Nusantara', 'Budi Santoso', '082111222333', 'budi@kopinusantara.com'),
('b0000000-0000-0000-0000-000000000002', 'a0000000-0000-0000-0000-000000000001', 'CV Susu Segar', 'Dewi Lestari', '083222333444', 'dewi@sususegar.com'),
('b0000000-0000-0000-0000-000000000003', 'a0000000-0000-0000-0000-000000000001', 'UD Bahan Kue Jaya', 'Ahmad Rizal', '084333444555', 'ahmad@bahankuejaya.com');

-- Sample ingredients
INSERT INTO ingredients (id, outlet_id, supplier_id, name, unit, current_stock, min_stock, max_stock, cost_per_unit) VALUES
('c0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000001', 'b0000000-0000-0000-0000-000000000001', 'Kopi Arabica', 'gram', 5000, 1000, 10000, 0.80),
('c0000000-0000-0000-0000-000000000002', 'a0000000-0000-0000-0000-000000000001', 'b0000000-0000-0000-0000-000000000001', 'Kopi Robusta', 'gram', 3000, 800, 8000, 0.50),
('c0000000-0000-0000-0000-000000000003', 'a0000000-0000-0000-0000-000000000001', 'b0000000-0000-0000-0000-000000000002', 'Susu Full Cream', 'ml', 10000, 3000, 20000, 0.025),
('c0000000-0000-0000-0000-000000000004', 'a0000000-0000-0000-0000-000000000001', 'b0000000-0000-0000-0000-000000000003', 'Gula Pasir', 'gram', 8000, 2000, 15000, 0.015),
('c0000000-0000-0000-0000-000000000005', 'a0000000-0000-0000-0000-000000000001', 'b0000000-0000-0000-0000-000000000003', 'Cokelat Bubuk', 'gram', 2000, 500, 5000, 0.12),
('c0000000-0000-0000-0000-000000000006', 'a0000000-0000-0000-0000-000000000001', 'b0000000-0000-0000-0000-000000000003', 'Matcha Powder', 'gram', 500, 200, 2000, 0.50),
('c0000000-0000-0000-0000-000000000007', 'a0000000-0000-0000-0000-000000000001', 'b0000000-0000-0000-0000-000000000002', 'Whipped Cream', 'ml', 3000, 1000, 5000, 0.05),
('c0000000-0000-0000-0000-000000000008', 'a0000000-0000-0000-0000-000000000001', 'b0000000-0000-0000-0000-000000000003', 'Sirup Vanilla', 'ml', 2000, 500, 5000, 0.08),
('c0000000-0000-0000-0000-000000000009', 'a0000000-0000-0000-0000-000000000001', 'b0000000-0000-0000-0000-000000000003', 'Sirup Caramel', 'ml', 1500, 500, 5000, 0.08),
('c0000000-0000-0000-0000-000000000010', 'a0000000-0000-0000-0000-000000000001', 'b0000000-0000-0000-0000-000000000003', 'Es Batu', 'gram', 20000, 5000, 50000, 0.003),
('c0000000-0000-0000-0000-000000000011', 'a0000000-0000-0000-0000-000000000001', NULL, 'Cup Hot 8oz', 'pcs', 500, 100, 1000, 1.50),
('c0000000-0000-0000-0000-000000000012', 'a0000000-0000-0000-0000-000000000001', NULL, 'Cup Iced 16oz', 'pcs', 400, 100, 1000, 2.00),
('c0000000-0000-0000-0000-000000000013', 'a0000000-0000-0000-0000-000000000001', 'b0000000-0000-0000-0000-000000000003', 'Teh Hitam', 'gram', 1500, 500, 3000, 0.10),
('c0000000-0000-0000-0000-000000000014', 'a0000000-0000-0000-0000-000000000001', 'b0000000-0000-0000-0000-000000000003', 'Teh Hijau', 'gram', 1000, 300, 2000, 0.15);

-- Sample products with categories
-- Kopi category
INSERT INTO products (id, outlet_id, category_id, name, selling_price, cost_price) VALUES
('d0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000001', (SELECT id FROM categories WHERE name = 'Kopi' AND outlet_id = 'a0000000-0000-0000-0000-000000000001'), 'Americano Hot', 18000, 5000),
('d0000000-0000-0000-0000-000000000002', 'a0000000-0000-0000-0000-000000000001', (SELECT id FROM categories WHERE name = 'Kopi' AND outlet_id = 'a0000000-0000-0000-0000-000000000001'), 'Americano Iced', 20000, 5500),
('d0000000-0000-0000-0000-000000000003', 'a0000000-0000-0000-0000-000000000001', (SELECT id FROM categories WHERE name = 'Kopi' AND outlet_id = 'a0000000-0000-0000-0000-000000000001'), 'Cafe Latte Hot', 25000, 8000),
('d0000000-0000-0000-0000-000000000004', 'a0000000-0000-0000-0000-000000000001', (SELECT id FROM categories WHERE name = 'Kopi' AND outlet_id = 'a0000000-0000-0000-0000-000000000001'), 'Cafe Latte Iced', 27000, 8500),
('d0000000-0000-0000-0000-000000000005', 'a0000000-0000-0000-0000-000000000001', (SELECT id FROM categories WHERE name = 'Kopi' AND outlet_id = 'a0000000-0000-0000-0000-000000000001'), 'Cappuccino', 25000, 8000),
('d0000000-0000-0000-0000-000000000006', 'a0000000-0000-0000-0000-000000000001', (SELECT id FROM categories WHERE name = 'Kopi' AND outlet_id = 'a0000000-0000-0000-0000-000000000001'), 'Mocha Latte', 28000, 10000),
('d0000000-0000-0000-0000-000000000007', 'a0000000-0000-0000-0000-000000000001', (SELECT id FROM categories WHERE name = 'Kopi' AND outlet_id = 'a0000000-0000-0000-0000-000000000001'), 'Caramel Macchiato', 30000, 11000),
('d0000000-0000-0000-0000-000000000008', 'a0000000-0000-0000-0000-000000000001', (SELECT id FROM categories WHERE name = 'Kopi' AND outlet_id = 'a0000000-0000-0000-0000-000000000001'), 'Espresso Single', 15000, 4000),
('d0000000-0000-0000-0000-000000000009', 'a0000000-0000-0000-0000-000000000001', (SELECT id FROM categories WHERE name = 'Kopi' AND outlet_id = 'a0000000-0000-0000-0000-000000000001'), 'Espresso Double', 20000, 6000),
('d0000000-0000-0000-0000-000000000010', 'a0000000-0000-0000-0000-000000000001', (SELECT id FROM categories WHERE name = 'Kopi' AND outlet_id = 'a0000000-0000-0000-0000-000000000001'), 'V60 Single Origin', 35000, 12000);

-- Non-Kopi category
INSERT INTO products (id, outlet_id, category_id, name, selling_price, cost_price) VALUES
('d0000000-0000-0000-0000-000000000011', 'a0000000-0000-0000-0000-000000000001', (SELECT id FROM categories WHERE name = 'Non-Kopi' AND outlet_id = 'a0000000-0000-0000-0000-000000000001'), 'Matcha Latte', 28000, 12000),
('d0000000-0000-0000-0000-000000000012', 'a0000000-0000-0000-0000-000000000001', (SELECT id FROM categories WHERE name = 'Non-Kopi' AND outlet_id = 'a0000000-0000-0000-0000-000000000001'), 'Cokelat Hot', 22000, 8000),
('d0000000-0000-0000-0000-000000000013', 'a0000000-0000-0000-0000-000000000001', (SELECT id FROM categories WHERE name = 'Non-Kopi' AND outlet_id = 'a0000000-0000-0000-0000-000000000001'), 'Cokelat Iced', 24000, 8500);

-- Teh category
INSERT INTO products (id, outlet_id, category_id, name, selling_price, cost_price) VALUES
('d0000000-0000-0000-0000-000000000014', 'a0000000-0000-0000-0000-000000000001', (SELECT id FROM categories WHERE name = 'Teh' AND outlet_id = 'a0000000-0000-0000-0000-000000000001'), 'Teh Tarik', 18000, 5000),
('d0000000-0000-0000-0000-000000000015', 'a0000000-0000-0000-0000-000000000001', (SELECT id FROM categories WHERE name = 'Teh' AND outlet_id = 'a0000000-0000-0000-0000-000000000001'), 'Lemon Tea', 16000, 4500),
('d0000000-0000-0000-0000-000000000016', 'a0000000-0000-0000-0000-000000000001', (SELECT id FROM categories WHERE name = 'Teh' AND outlet_id = 'a0000000-0000-0000-0000-000000000001'), 'Green Tea Latte', 25000, 9000);

-- Sample recipes (link products to ingredients)
INSERT INTO recipes (product_id, ingredient_id, quantity, unit) VALUES
-- Americano Hot
('d0000000-0000-0000-0000-000000000001', 'c0000000-0000-0000-0000-000000000001', 18, 'gram'),
('d0000000-0000-0000-0000-000000000001', 'c0000000-0000-0000-0000-000000000011', 1, 'pcs'),
-- Americano Iced
('d0000000-0000-0000-0000-000000000002', 'c0000000-0000-0000-0000-000000000001', 18, 'gram'),
('d0000000-0000-0000-0000-000000000002', 'c0000000-0000-0000-0000-000000000010', 150, 'gram'),
('d0000000-0000-0000-0000-000000000002', 'c0000000-0000-0000-0000-000000000012', 1, 'pcs'),
-- Cafe Latte Hot
('d0000000-0000-0000-0000-000000000003', 'c0000000-0000-0000-0000-000000000001', 18, 'gram'),
('d0000000-0000-0000-0000-000000000003', 'c0000000-0000-0000-0000-000000000003', 200, 'ml'),
('d0000000-0000-0000-0000-000000000003', 'c0000000-0000-0000-0000-000000000011', 1, 'pcs'),
-- Cafe Latte Iced
('d0000000-0000-0000-0000-000000000004', 'c0000000-0000-0000-0000-000000000001', 18, 'gram'),
('d0000000-0000-0000-0000-000000000004', 'c0000000-0000-0000-0000-000000000003', 200, 'ml'),
('d0000000-0000-0000-0000-000000000004', 'c0000000-0000-0000-0000-000000000010', 150, 'gram'),
('d0000000-0000-0000-0000-000000000004', 'c0000000-0000-0000-0000-000000000012', 1, 'pcs'),
-- Cappuccino
('d0000000-0000-0000-0000-000000000005', 'c0000000-0000-0000-0000-000000000001', 18, 'gram'),
('d0000000-0000-0000-0000-000000000005', 'c0000000-0000-0000-0000-000000000003', 180, 'ml'),
('d0000000-0000-0000-0000-000000000005', 'c0000000-0000-0000-0000-000000000011', 1, 'pcs'),
-- Mocha Latte
('d0000000-0000-0000-0000-000000000006', 'c0000000-0000-0000-0000-000000000001', 18, 'gram'),
('d0000000-0000-0000-0000-000000000006', 'c0000000-0000-0000-0000-000000000003', 180, 'ml'),
('d0000000-0000-0000-0000-000000000006', 'c0000000-0000-0000-0000-000000000005', 20, 'gram'),
('d0000000-0000-0000-0000-000000000006', 'c0000000-0000-0000-0000-000000000011', 1, 'pcs'),
-- Caramel Macchiato
('d0000000-0000-0000-0000-000000000007', 'c0000000-0000-0000-0000-000000000001', 18, 'gram'),
('d0000000-0000-0000-0000-000000000007', 'c0000000-0000-0000-0000-000000000003', 200, 'ml'),
('d0000000-0000-0000-0000-000000000007', 'c0000000-0000-0000-0000-000000000009', 30, 'ml'),
('d0000000-0000-0000-0000-000000000007', 'c0000000-0000-0000-0000-000000000012', 1, 'pcs'),
-- Matcha Latte
('d0000000-0000-0000-0000-000000000011', 'c0000000-0000-0000-0000-000000000006', 10, 'gram'),
('d0000000-0000-0000-0000-000000000011', 'c0000000-0000-0000-0000-000000000003', 250, 'ml'),
('d0000000-0000-0000-0000-000000000011', 'c0000000-0000-0000-0000-000000000004', 15, 'gram'),
('d0000000-0000-0000-0000-000000000011', 'c0000000-0000-0000-0000-000000000012', 1, 'pcs'),
-- Cokelat Hot
('d0000000-0000-0000-0000-000000000012', 'c0000000-0000-0000-0000-000000000005', 25, 'gram'),
('d0000000-0000-0000-0000-000000000012', 'c0000000-0000-0000-0000-000000000003', 250, 'ml'),
('d0000000-0000-0000-0000-000000000012', 'c0000000-0000-0000-0000-000000000004', 20, 'gram'),
('d0000000-0000-0000-0000-000000000012', 'c0000000-0000-0000-0000-000000000011', 1, 'pcs'),
-- Teh Tarik
('d0000000-0000-0000-0000-000000000014', 'c0000000-0000-0000-0000-000000000013', 5, 'gram'),
('d0000000-0000-0000-0000-000000000014', 'c0000000-0000-0000-0000-000000000003', 200, 'ml'),
('d0000000-0000-0000-0000-000000000014', 'c0000000-0000-0000-0000-000000000004', 25, 'gram'),
('d0000000-0000-0000-0000-000000000014', 'c0000000-0000-0000-0000-000000000011', 1, 'pcs'),
-- Green Tea Latte
('d0000000-0000-0000-0000-000000000016', 'c0000000-0000-0000-0000-000000000014', 8, 'gram'),
('d0000000-0000-0000-0000-000000000016', 'c0000000-0000-0000-0000-000000000003', 250, 'ml'),
('d0000000-0000-0000-0000-000000000016', 'c0000000-0000-0000-0000-000000000004', 15, 'gram'),
('d0000000-0000-0000-0000-000000000016', 'c0000000-0000-0000-0000-000000000012', 1, 'pcs');

-- Sample modifier groups
INSERT INTO modifier_groups (id, outlet_id, name, is_required, min_selections, max_selections) VALUES
('e0000000-0000-0000-0000-000000000001', 'a0000000-0000-0000-0000-000000000001', 'Ukuran', true, 1, 1),
('e0000000-0000-0000-0000-000000000002', 'a0000000-0000-0000-0000-000000000001', 'Suhu', true, 1, 1),
('e0000000-0000-0000-0000-000000000003', 'a0000000-0000-0000-0000-000000000001', 'Extra Topping', false, 0, 3),
('e0000000-0000-0000-0000-000000000004', 'a0000000-0000-0000-0000-000000000001', 'Tingkat Gula', true, 1, 1);

-- Modifier options
INSERT INTO modifier_options (modifier_group_id, name, price_adjustment, is_default, sort_order) VALUES
-- Ukuran
('e0000000-0000-0000-0000-000000000001', 'Regular', 0, true, 1),
('e0000000-0000-0000-0000-000000000001', 'Large', 5000, false, 2),
-- Suhu
('e0000000-0000-0000-0000-000000000002', 'Hot', 0, true, 1),
('e0000000-0000-0000-0000-000000000002', 'Iced', 0, false, 2),
-- Extra Topping
('e0000000-0000-0000-0000-000000000003', 'Extra Shot', 5000, false, 1),
('e0000000-0000-0000-0000-000000000003', 'Whipped Cream', 3000, false, 2),
('e0000000-0000-0000-0000-000000000003', 'Vanilla Syrup', 3000, false, 3),
('e0000000-0000-0000-0000-000000000003', 'Caramel Drizzle', 3000, false, 4),
-- Tingkat Gula
('e0000000-0000-0000-0000-000000000004', 'Normal', 0, true, 1),
('e0000000-0000-0000-0000-000000000004', 'Less Sugar', 0, false, 2),
('e0000000-0000-0000-0000-000000000004', 'No Sugar', 0, false, 3),
('e0000000-0000-0000-0000-000000000004', 'Extra Sweet', 0, false, 4);

-- Sample taxes
INSERT INTO taxes (outlet_id, name, type, rate, is_inclusive) VALUES
('a0000000-0000-0000-0000-000000000001', 'PPN 11%', 'tax', 11.00, false),
('a0000000-0000-0000-0000-000000000001', 'Service Charge 5%', 'service_charge', 5.00, false);

-- Sample tables
INSERT INTO tables (outlet_id, table_number, name, capacity, section) VALUES
('a0000000-0000-0000-0000-000000000001', 'T01', 'Meja 1', 2, 'Indoor'),
('a0000000-0000-0000-0000-000000000001', 'T02', 'Meja 2', 2, 'Indoor'),
('a0000000-0000-0000-0000-000000000001', 'T03', 'Meja 3', 4, 'Indoor'),
('a0000000-0000-0000-0000-000000000001', 'T04', 'Meja 4', 4, 'Indoor'),
('a0000000-0000-0000-0000-000000000001', 'T05', 'Meja 5', 6, 'Indoor'),
('a0000000-0000-0000-0000-000000000001', 'T06', 'Meja 6', 2, 'Outdoor'),
('a0000000-0000-0000-0000-000000000001', 'T07', 'Meja 7', 4, 'Outdoor'),
('a0000000-0000-0000-0000-000000000001', 'T08', 'Meja 8', 4, 'Outdoor'),
('a0000000-0000-0000-0000-000000000001', 'T09', 'Meja 9', 6, 'VIP'),
('a0000000-0000-0000-0000-000000000001', 'T10', 'Meja 10', 8, 'VIP');

-- Sample discount
INSERT INTO discounts (outlet_id, name, type, value, min_purchase, is_active) VALUES
('a0000000-0000-0000-0000-000000000001', 'Grand Opening 10%', 'percentage', 10, 50000, true),
('a0000000-0000-0000-0000-000000000001', 'Member Discount', 'percentage', 5, 0, true),
('a0000000-0000-0000-0000-000000000001', 'Diskon Rp 10.000', 'fixed_amount', 10000, 100000, true);

-- Sample loyalty program
INSERT INTO loyalty_programs (outlet_id, name, points_per_amount, reward_threshold, reward_type, reward_value) VALUES
('a0000000-0000-0000-0000-000000000001', 'Utter Points', 10000, 100, 'discount', 15000);
